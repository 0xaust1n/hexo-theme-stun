//- Reset `window.Promise` when it was not a function.
//- IE refers the element whose id is `Promise` as `window.Promise`, this causes Velocity throwing an exception
script.
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }

if theme.cdn && theme.cdn.js
  each url in theme.cdn.js
    if url
      script(src=url_for(url))

if theme.fancybox
  script(src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js")

if theme.gallery_waterfall
  script(src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js")

if theme.lazyload
  script(src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js")

if theme.canvas_ribbon && theme.canvas_ribbon.enable
  - var ribbon = theme.canvas_ribbon;
  script(src=theme.cdn.canvas_ribbon size=ribbon.size alpha=ribbon.alpha zIndex=ribbon.zIndex)

if theme.canvas_nest && theme.canvas_nest.enable
  - var nest = theme.canvas_nest;
  script(src=theme.cdn.canvas_nest color=nest.color opacity=nest.opacity count=nest.count zIndex=nest.zIndex)
