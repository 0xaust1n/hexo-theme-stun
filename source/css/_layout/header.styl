if (hexo-config('header_bg_img'))
  $header-bg-img = hexo-config('header_bg_img')

if (hexo-config('header_height'))
  $header-height = unit(convert(hexo-config('header_height')), 'vh')

#header
  display: flex
  position: relative
  margin: 0 0 3rem
  height: $header-height
  font-size: $font-header-base is defined ? $font-header-base : 1rem
  background-color: $gray-dark
  background-repeat: no-repeat
  background-attachment: fixed
  background-position: center
  background-size: cover
  flex-direction: column

  if (hexo-config('header_bg_img'))
    background-image: url($header-bg-img)

  // header nav menu
  .icon-home::before
    content: $nav-home

  .icon-archives::before
    content: $nav-archive

  .icon-categories::before
    content: $nav-category

  .icon-tags::before
    content: $nav-tag

  .icon-about::before
    content: $nav-about

  .icon-search::before
    content: $nav-search

$header-nav-color
  .header-nav-menu,
  .header-nav-search
    color: $header-nav-link-color

    &:hover
      color: $header-nav-link-hover-color

      &::before,
      &::after
        color: $header-nav-link-hover-color

if (hexo-config('header_nav_height'))
  $header-nav-height = convert(hexo-config('header_nav_height'))

#header-nav
  position: fixed
  top: 0
  z-index: $z-index-5
  width: 100%
  height: $header-nav-height
  transition: background-color .3s

  &.fixed
    background-color: alpha($header-nav-bg-color, .5)
    @extend $header-nav-color

  &.nav-slider
    animation-duration: .3s
    animation-timing-function: ease
    animation-fill-mode: both

  &.slider-down
    animation-name: header-sliderDown

  &.slider-up
    animation-name: header-sliderUp

.header-nav-inner
  position: relative
  margin: 0 auto
  padding: 0 1rem
  height: 100%

.header-nav-menu a,
.header-nav-search
  color: $header-nav-link-color

  &:hover
    color: $header-nav-link-hover-color

    &::before,
    &::after
      color: $header-nav-link-hover-color

.header-nav-menu-inner
  float: left
  margin: 0
  padding: 0
  height: 100%

  &-icon
    margin-right: .25rem

  li
    float: left
    list-style-type: none
    margin: 0 1rem 0 0
    height: 100%

  a
    display: block
    border-bottom: 0
    padding: 0 .5rem
    height: 100%
    line-height: $header-nav-height
    text-decoration: none
    transition: color .2s ease

  i
    margin-right: .3rem

.header-nav-search
  float: right
  padding: 0 .5rem
  height: 100%
  line-height: $header-nav-height
  color: $white-light

  &::before
    content: $nav-search
    margin-right: .3rem
    font-family: 'fontStun'
    font-style: normal
    color: $white-light

  &:hover
    cursor: pointer

if (hexo-config('top_img_blur') && hexo-config('top_img_blur.enable'))
  $site-info-blur-enable = true
  $site-info-blur-level = convert(hexo-config('top_img_blur.level'))

#header-info
  display: flex
  z-index: $z-index-1
  text-align: center
  flex: 1
  flex-direction: column

  // enable blur effect for site info
  if ($site-info-blur-enable == true)
    overflow: hidden
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    background: inherit

    // blur effect
    &::before
      content: ''
      position: absolute
      top: 0
      right: 0
      bottom: 0
      left: 0
      z-index: $z-index-0
      // convert string to stylus node
      margin: 0 - $site-info-blur-level * 1.5
      background: inherit
      background-attachment: fixed
      filter: blur(20px)

.header-info-inner
  display: flex
  width: 100%
  height: 100%
  flex-direction: column
  justify-content: center

  .site-info-title
    font-size: 2.5rem
    font-weight: $font-weight-bolder
    color: #f9f9f9

  .site-info-subtitle
    font-size: 2rem
    font-weight: $font-weight-bold
    color: #f9f9f9
